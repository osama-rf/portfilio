---
import Section from "./Section.astro";
import type { AboutProps, HeroProps } from "@types";

type Props = AboutProps & Pick<HeroProps, "name">;

const { description } = Astro.props;
---

<Section text="About Me" href="about">
  <div class="flex flex-col items-center gap-12 md:flex-row md:gap-8">
    <p id="about-description" class="w-auto text-base text-neutral">{description}</p>
  </div>
</Section>

<script>
  import { languageStore } from "@app/language-store";

  const updateAbout = () => {
    const content = languageStore.content.about;

    const descriptionEl = document.getElementById('about-description');

    if (descriptionEl) {
      descriptionEl.textContent = content.description.trim();
    }
  };

  // Listen for language changes
  window.addEventListener('language-change', updateAbout);

  // Initialize
  updateAbout();
</script>
