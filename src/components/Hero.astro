---
import type { HeroProps } from "@types";
type Props = HeroProps;

const { specialty, summary } = Astro.props;
---

<section class="relative min-h-[90vh] flex flex-col items-center justify-center text-center overflow-hidden" id="#hero">
  <!-- Background effects -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-1/4 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/[0.04] rounded-full blur-[150px]"></div>
    <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-[600px] h-[300px] bg-violet-500/[0.03] rounded-full blur-[100px]"></div>
  </div>

  <div class="relative z-10 px-4 max-w-5xl mx-auto">
    <!-- Badge -->
    <div class="inline-flex items-center gap-2 px-5 py-2.5 mb-10 rounded-full bg-primary/10 border border-primary/20 backdrop-blur-sm">
      <span class="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></span>
      <span id="hero-badge" class="text-sm font-medium text-primary">نقبل مشاريع جديدة الآن</span>
    </div>

    <!-- Main headline -->
    <h1
      id="hero-specialty"
      class="hero-headline font-serif text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight mb-8 leading-[1.15]"
    >
      {specialty}
    </h1>

    <!-- Subheadline -->
    <p id="hero-summary" class="hero-summary text-lg md:text-xl text-neutral max-w-2xl mx-auto leading-relaxed mb-12">
      {summary}
    </p>

    <!-- CTA Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-16">
      <a
        href="https://wa.me/966563913944?text=مرحباً، أبغى تطبيق لنشاطي وأبغى أعرف التفاصيل."
        target="_blank"
        rel="noopener noreferrer"
        class="hero-cta-primary group relative inline-flex items-center gap-3 px-10 py-5 bg-gradient-to-r from-indigo-600 via-violet-600 to-purple-600 text-white font-bold text-xl rounded-full shadow-2xl hover:shadow-indigo-500/40 transition-all duration-300 hover:scale-105"
      >
        <span id="hero-cta-primary">ابدأ مشروعك الآن</span>
      </a>

      <a
        href="#projects"
        class="inline-flex items-center gap-2 px-8 py-5 bg-white/5 backdrop-blur-sm text-white font-semibold text-lg rounded-full border border-white/10 hover:bg-white/10 hover:border-primary/30 transition-all duration-300"
      >
        <span id="hero-cta-secondary">شوف النتيجة</span>
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
      </a>
    </div>

    <!-- Stats -->
    <div class="flex flex-wrap justify-center gap-3 md:gap-4 max-w-xl mx-auto">
      <div class="stat-card inline-flex items-center gap-2 py-2.5 px-4 rounded-full border border-white/[0.06] bg-white/[0.02]">
        <span class="text-lg font-bold text-white">6+</span>
        <span class="text-xs text-neutral/70" id="stat-projects">تطبيق أطلقناه</span>
      </div>
      <div class="stat-card inline-flex items-center gap-2 py-2.5 px-4 rounded-full border border-white/[0.06] bg-white/[0.02]">
        <span class="text-lg font-bold text-white">100%</span>
        <span class="text-xs text-neutral/70" id="stat-satisfaction">رضا العملاء</span>
      </div>
      <div class="stat-card inline-flex items-center gap-2 py-2.5 px-4 rounded-full border border-white/[0.06] bg-white/[0.02]">
        <span class="text-lg font-bold text-white">14</span>
        <span class="text-xs text-neutral/70" id="stat-support">يوم للتسليم</span>
      </div>
    </div>
  </div>

  <!-- Scroll indicator -->
  <div class="hidden md:block absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce opacity-40">
    <svg class="w-6 h-6 text-neutral" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
    </svg>
  </div>
</section>

<style>
  .hero-headline {
    text-align: center !important;
    background: linear-gradient(180deg, #f1f5f9 0%, #94a3b8 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  [dir="rtl"] .hero-headline {
    text-align: center !important;
  }

  .hero-summary {
    text-align: center !important;
  }

  [dir="rtl"] .hero-summary {
    text-align: center !important;
  }

  .hero-cta-primary {
    color: white !important;
  }

  .hero-cta-primary svg {
    color: white !important;
  }

  .hero-cta-primary span {
    color: white !important;
  }

  .stat-card {
    transition: all 0.3s ease;
  }

  .stat-card:hover {
    border-color: rgba(99, 102, 241, 0.15);
    background: rgba(255, 255, 255, 0.04);
  }

  /* Light theme */
  html.light .hero-headline {
    background: linear-gradient(180deg, #0f172a 0%, #334155 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  html.light .stat-card {
    border-color: rgba(0, 0, 0, 0.06);
    background: rgba(0, 0, 0, 0.02);
  }

  html.light .stat-card:hover {
    border-color: rgba(99, 102, 241, 0.2);
    background: rgba(99, 102, 241, 0.04);
  }

  html.light .stat-card .text-white {
    color: #0f172a !important;
  }
</style>

<script>
  import { languageStore } from "@app/language-store";

  const updateHero = () => {
    const content = languageStore.content.hero;
    const ui = languageStore.content.ui;

    const specialtyEl = document.getElementById('hero-specialty');
    const summaryEl = document.getElementById('hero-summary');
    const badgeEl = document.getElementById('hero-badge');
    const ctaPrimaryEl = document.getElementById('hero-cta-primary');
    const ctaSecondaryEl = document.getElementById('hero-cta-secondary');
    const statProjectsEl = document.getElementById('stat-projects');
    const statSatisfactionEl = document.getElementById('stat-satisfaction');
    const statSupportEl = document.getElementById('stat-support');

    if (specialtyEl) specialtyEl.textContent = content.specialty;
    if (summaryEl) summaryEl.textContent = content.summary;
    if (badgeEl) badgeEl.textContent = ui.heroBadge || "متاح للمشاريع الجديدة";
    if (ctaPrimaryEl) ctaPrimaryEl.textContent = ui.heroCTAPrimary || "اطلب عرض سعر";
    if (ctaSecondaryEl) ctaSecondaryEl.textContent = ui.heroCTASecondary || "شوف أعمالنا";
    if (statProjectsEl) statProjectsEl.textContent = ui.statProjects || "تطبيق أطلقناه";
    if (statSatisfactionEl) statSatisfactionEl.textContent = ui.statSatisfaction || "رضا العملاء";
    if (statSupportEl) statSupportEl.textContent = ui.statSupport || "دعم مستمر";
  };

  window.addEventListener('language-change', updateHero);
  updateHero();
</script>
